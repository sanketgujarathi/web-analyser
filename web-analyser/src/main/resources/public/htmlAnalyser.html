<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>
<form id="queryPageDetails" method="get" action="/pageDetails">
    <div>
        <input type="text" name="url" id="url">
    </div>
    <div>
        <button type="submit" name="submit">Submit</button>
    </div>
</form>
<script>
    $(document).ready(function() {
	$('#queryPageDetails').on('submit',

		function(event) {
			var url = $('#url').val();
			var data = 'url='
					+ encodeURIComponent(url);
			$.ajax({
				url : $("#queryPageDetails").attr("action"),
				data : data,
				type : "GET",

				success : function(response) {
					console.log(response);
					displayResponse( response );
				},
				error : function(xhr, status, error) {
					alert(xhr.responseText);
				}
			});
			return false;
		});

		function displayResponse(response) {
			var list = "";
			$.each(response, function(key, value) {
				if(typeof value == 'object'){
					var innerList = "<ul>";
					$.each(value, function(ckey, cvalue) {
					innerList += "<li><b> " + ckey + ": </b>" + cvalue + "</li>";
					})
					list += "<li><b> " + key + ": </b>" + innerList + "</ul>" + "</li>";
				}else {
				list += "<li><b> " + key + ": </b>" + value + "</li>";
				}
				//alert(key + ' is ' + value);
			});
			var ul = $('<ul id="response">').appendTo('body');
			/*var list = "<li> <b>Title:</b> " + response.title + "</li>";
			list += "<li><b> HTML version: </b>" + response.htmlVersion + "</li>";
			var containsLogin = response.containsLogin ? "Yes" : "No";
			list += "<li><b> Contains Login Form: </b>" + containsLogin + "</li>";*/
			$('#response').append(list);
		};
	});
</script>
</body>
</html>